"0","N=1000 #Number of simulations"
"0",""
"0","prior_sim <- tibble(a = rnorm(N, 0.05, 0.05),"
"0","                 b = rnorm(N, 0.05, 0.05),"
"0","                 sigma = rexp(N, 0.5),"
"0","                 sim = 1:N) "
"0",""
"0","# data (only the x values, since we're simulating y and mu and pretending we don't have them yet)"
"0","treatment_dg <- real_data_alive$treatment_group"
"0","d <- real_data_alive %>% mutate(""treatment_sim"" = treatment_dg)"
"0",""
"0","# combine and simulate"
"0","prior_and_x_1 <- prior_sim %>% expand_grid(x_sim = treatment_dg) %>% # combine priors and x's"
"0","  mutate(lambda = exp(a + b*x_sim),                         # simulate regressions"
"0","         y = rpois(nrow(.), lambda=lambda))   # simulate data "
"0","         "
"0","         "
"0","prior_and_x_1 %>% "
"0","  ggplot(aes(x = x_sim, y = lambda, group = sim)) + "
"0","  geom_line() +"
"0","  geom_point(aes(y = lambda)) +"
"0","  labs(y = ""sim"")+"
"0","  scale_y_log10()"
